//
//  L2BookModel.swift
//  HyperliquidDataApp
//
//  Created by Dylan Young on 7/21/25.
//

import Foundation

let jsonSting = """
{
    "coin": "BTC",
    "time": 1753131698383,
    "levels": [
        [
            {
                "px": "116955.0",
                "sz": "19.61774",
                "n": 32
            },
            {
                "px": "116954.0",
                "sz": "8.94023",
                "n": 14
            },
            {
                "px": "116953.0",
                "sz": "0.83196",
                "n": 4
            },
            {
                "px": "116952.0",
                "sz": "0.41881",
                "n": 2
            },
            {
                "px": "116951.0",
                "sz": "3.36554",
                "n": 5
            },
            {
                "px": "116950.0",
                "sz": "0.32068",
                "n": 2
            },
            {
                "px": "116949.0",
                "sz": "0.42898",
                "n": 1
            },
            {
                "px": "116948.0",
                "sz": "0.25493",
                "n": 1
            },
            {
                "px": "116947.0",
                "sz": "0.53485",
                "n": 2
            },
            {
                "px": "116946.0",
                "sz": "2.59896",
                "n": 2
            },
            {
                "px": "116944.0",
                "sz": "0.0002",
                "n": 1
            },
            {
                "px": "116943.0",
                "sz": "0.86121",
                "n": 3
            },
            {
                "px": "116942.0",
                "sz": "0.48374",
                "n": 2
            },
            {
                "px": "116941.0",
                "sz": "2.57515",
                "n": 4
            },
            {
                "px": "116940.0",
                "sz": "0.50961",
                "n": 4
            },
            {
                "px": "116939.0",
                "sz": "0.04295",
                "n": 2
            },
            {
                "px": "116938.0",
                "sz": "0.02602",
                "n": 2
            },
            {
                "px": "116937.0",
                "sz": "0.08978",
                "n": 2
            },
            {
                "px": "116936.0",
                "sz": "1.03447",
                "n": 2
            },
            {
                "px": "116935.0",
                "sz": "2.67101",
                "n": 2
            }
        ],
        [
            {
                "px": "116956.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116957.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116958.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116959.0",
                "sz": "0.03416",
                "n": 2
            },
            {
                "px": "116960.0",
                "sz": "0.07863",
                "n": 3
            },
            {
                "px": "116961.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116962.0",
                "sz": "0.00916",
                "n": 3
            },
            {
                "px": "116963.0",
                "sz": "0.14243",
                "n": 3
            },
            {
                "px": "116964.0",
                "sz": "0.0007",
                "n": 3
            },
            {
                "px": "116965.0",
                "sz": "0.14365",
                "n": 3
            },
            {
                "px": "116966.0",
                "sz": "0.40658",
                "n": 4
            },
            {
                "px": "116967.0",
                "sz": "0.25566",
                "n": 4
            },
            {
                "px": "116968.0",
                "sz": "0.00061",
                "n": 2
            },
            {
                "px": "116969.0",
                "sz": "0.00061",
                "n": 2
            },
            {
                "px": "116970.0",
                "sz": "0.00061",
                "n": 2
            },
            {
                "px": "116971.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116972.0",
                "sz": "0.00011",
                "n": 1
            },
            {
                "px": "116973.0",
                "sz": "0.03954",
                "n": 3
            },
            {
                "px": "116974.0",
                "sz": "0.05352",
                "n": 3
            },
            {
                "px": "116975.0",
                "sz": "0.04712",
                "n": 3
            }
        ]
    ]
}
"""

struct L2BookModel: Decodable {
    let coin: String
    let time: Int
    let levels: [[L2Data]]
}

struct L2Data: Decodable, Identifiable {
    let id = UUID()
    let price: String
    let size: String
    let n: Int
    
    enum CodingKeys: String, CodingKey {
        case price = "px"
        case size = "sz"
        case n
    }
}
